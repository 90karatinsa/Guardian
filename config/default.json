{
  "app": {
    "name": "Guardian"
  },
  "logging": {
    "level": "info"
  },
  "database": {
    "path": "data/events.sqlite"
  },
  "events": {
    "thresholds": {
      "info": 0,
      "warning": 5,
      "critical": 10
    },
    "retention": {
      "retentionDays": 30,
      "intervalMinutes": 60,
      "vacuum": "auto",
      "archiveDir": "archive",
      "enabled": true
    },
    "suppression": {
      "rules": [
        {
          "id": "motion-cooldown",
          "detector": "motion",
          "source": "video:test-camera",
          "suppressForMs": 2000,
          "reason": "Suppress repeated motion events"
        }
      ]
    }
  },
  "video": {
    "testFile": "assets/test-video.mp4",
    "framesPerSecond": 2,
    "ffmpeg": {
      "inputArgs": ["-re"],
      "rtspTransport": "tcp",
      "startTimeoutMs": 4000,
      "watchdogTimeoutMs": 5000,
      "forceKillTimeoutMs": 3000,
      "restartDelayMs": 500,
      "restartMaxDelayMs": 5000,
      "restartJitterFactor": 0.2
    },
    "cameras": [
      {
        "id": "test-camera",
        "channel": "video:test-camera",
        "input": "assets/test-video.mp4",
        "person": {
          "score": 0.5
        },
        "motion": {
          "diffThreshold": 20,
          "areaThreshold": 0.02
        },
        "ffmpeg": {
          "inputArgs": ["-use_wallclock_as_timestamps", "1"]
        }
      }
    ]
  },
  "person": {
    "modelPath": "models/yolov8n.onnx",
    "score": 0.5,
    "checkEveryNFrames": 3,
    "maxDetections": 5,
    "snapshotDir": "snapshots",
    "minIntervalMs": 2000
  },
  "motion": {
    "diffThreshold": 25,
    "areaThreshold": 0.015,
    "minIntervalMs": 1500
  }
}
